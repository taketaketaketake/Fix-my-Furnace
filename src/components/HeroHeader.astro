---
/**
 * HeroHeader.astro
 * Split hero layout â€“ full-width image left, text right.
 * Includes a modal form that opens from the primary button.
 */
 const {
  title = "Built on Trust, Speed, and Real Detroit Grit.",
  description = "Weâ€™re not a call center â€” weâ€™re your local HVAC pros. When the cold hits and your furnace fails, we show up fast â€” licensed, local, and ready to get the heat back on.",
  primaryBtnText = "Get a Free Quote",
  secondaryBtnText = "Call Now",
  secondaryBtnLink = "tel:+8334948669",
  imageSrc = "/fixmyfurnacewoman.png"
} = Astro.props;
---

<section class="relative w-full bg-white overflow-hidden">
  <div class="flex flex-col-reverse md:grid md:grid-cols-2 min-h-[600px] lg:min-h-[700px]">
    <!-- ðŸ§± Left: Text -->
    <div class="flex items-center justify-center px-6 md:px-12 py-16 md:py-0 bg-gradient-to-br from-red-50 via-gray-50 to-white">
      <div class="max-w-lg text-left">
        <h1 class="text-4xl md:text-5xl font-extrabold text-gray-900 mb-6 leading-tight tracking-tight">
          <span class="text-red-600">Built on Trust, Speed,</span><br />
          and <span class="underline decoration-red-600">Real Detroit Grit.</span>
        </h1>

        <p class="text-gray-700 text-base md:text-lg font-semibold leading-relaxed mb-8">
          Weâ€™re not a call center â€” weâ€™re your local HVAC pros.
          When the cold hits and your furnace fails, we show up fast â€” licensed, local, and ready to get the heat back on.
        </p>

        <div class="flex flex-wrap gap-4">
          <!-- Primary button triggers modal -->
          <button
            id="openModalBtn"
            class="bg-red-600 text-white px-6 py-3 rounded-lg font-bold shadow hover:bg-red-700 active:scale-[0.98] transition"
          >
            {primaryBtnText}
          </button>

          <a
            href={secondaryBtnLink}
            class="border-2 border-gray-900 text-gray-900 px-6 py-3 rounded-lg font-bold hover:bg-gray-900 hover:text-white transition"
          >
            {secondaryBtnText}
          </a>
        </div>
      </div>
    </div>

    <!-- ðŸ”§ Right: Image -->
    <div class="relative w-full flex items-center justify-center bg-white py-6 md:py-0">
      <img
        src="fixmyfurnacewoman.png"
        alt="Fix My Furnace Illustration"
        class="w-full max-w-[700px] h-auto object-contain"
        loading="eager"
      />
    </div>

  <!-- Decorative red bar -->
  <div class="absolute bottom-0 left-0 w-full h-2 bg-red-600"></div>

<!-- ðŸ’¬ Modal -->
<div
  id="quoteModal"
  class="fixed inset-0 bg-black/60 backdrop-blur-sm hidden z-[100] flex items-center justify-center p-4"
>
  <div class="bg-white rounded-2xl shadow-xl max-w-md w-full mx-auto p-8 relative">
    <!-- Close button -->
    <button
      id="closeModalBtn"
      class="absolute top-4 right-4 text-gray-500 hover:text-gray-900 transition"
    >
      âœ•
    </button>

    <h2 class="text-2xl font-extrabold text-gray-900 mb-4 text-center">
      Request Your Free Quote
    </h2>
    <p class="text-gray-600 text-sm text-center mb-6">
      Fill out the form and a local HVAC expert will contact you shortly.
    </p>

    <form class="space-y-4">
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-1">Name</label>
        <input
          type="text"
          class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-600"
          placeholder="John Doe"
        />
      </div>

      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-1">Phone Number</label>
        <input
          type="tel"
          class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-600"
          placeholder="(313) 555-1234"
        />
      </div>

      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-1">Message</label>
        <textarea
          rows="3"
          class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-600"
          placeholder="Briefly describe your issue..."
        ></textarea>
      </div>

      <button
        type="submit"
        class="w-full bg-red-600 text-white font-bold py-3 rounded-lg hover:bg-red-700 transition"
      >
        Submit Request
      </button>
    </form>
  </div>
</div>

  <!-- ðŸ§  Modal Script -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const modal = document.getElementById("quoteModal");
      const openBtn = document.getElementById("openModalBtn");
      const closeBtn = document.getElementById("closeModalBtn");
  
      openBtn?.addEventListener("click", () => {
        modal.classList.remove("hidden");
        modal.classList.add("flex"); // ensure centering
      });
  
      const closeModal = () => {
        modal.classList.add("hidden");
        modal.classList.remove("flex");
      };
  
      closeBtn?.addEventListener("click", closeModal);
      modal?.addEventListener("click", (e) => {
        if (e.target === modal) closeModal();
      });
    });
  </script>
  
</section>
